<!DOCTYPE html>
<!--[if IE 6 ]><html class="ie ielt9 ielt8 ielt7 ie6" lang="en-gb"><![endif]-->
<!--[if IE 7 ]><html class="ie ielt9 ielt8 ie7" lang="en-gb"><![endif]-->
<!--[if IE 8 ]><html class="ie ielt9 ie8" lang="en-gb"><![endif]-->
<!--[if IE 9 ]><html class="ie ie9" lang="en-gb"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en-gb"><!--<![endif]-->
    <head>
        <title>Test</title>
    </head>
    <body>
        
        <div id="andre">
            <p>Andre</p>
        </div><!-- #andre -->
        
        <div id="cesc">
            <p>Cesc</p>
        </div><!-- #cesc -->
        
        <script>
            var test = function(id) {
                      
                var _ = this;
                
                _.id = id;
                
                _.addEvent = function (object, type, method) {
                    if (object.attachEvent) {
                        object['e' + type + method] = method;
                        object[type + method] = function() {
                            object['e' + type + method](window.event, object);
                        };
                        object.attachEvent('on' + type, object[type + method]);
                    } else {
                        object.addEventListener(type, method, false );
                    }
                };
                
                alert('Before onLoad (id): ' + id);
                alert('Before onLoad (this.id): ' + this.id);
                alert('Before onLoad (_.id): ' + _.id);
                
                _.addEvent(window, 'load', function(event) {
                    console.log(event);
                    
                    alert('After onLoad (id): ' + id);
                    alert('After onLoad (this.id): ' + this.id);
                    alert('After onLoad (_.id): ' + _.id);
                });
                
                return true;
            };
            
            var a = new test('andre');
            var c = new test('cesc');
        </script>
    </body>
</html>